(function(){"use strict";var e={9154:function(e,t,n){n.a(e,(async function(e,a){try{n(560);const o="pages";let i=localStorage.getItem(o)?localStorage.getItem(o):await fetch("./public/data/db.json").json(),s=JSON.parse(i);function r(){localStorage.setItem(o,JSON.stringify(s))}console.log(i),t.Z={addPage(e){s.push(e),r()},getAllPages(){return s},getSinglePage(e){return s[e]},editPage(e,t){s[e]=t,r()},removePage(e){s.splice(e,1),r()}},a()}catch(l){a(l)}}),1)},866:function(e,t,n){n.a(e,(async function(e,t){try{var a=n(9242),l=n(8175),o=n(9637),i=n(1350),s=n(9154),r=e([s]);s=(r.then?(await r)():r)[0];const c=(0,a.ri)(l.Z);c.use(i.Z),c.provide("$bus",o.Z),c.provide("$pages",s.Z),c.mount("#app"),t()}catch(c){t(c)}}))},1350:function(e,t,n){n.d(t,{Z:function(){return pe}});var a=n(2483),l=n(3396),o=n(7139);const i={key:0,class:"container"};function s(e,t,n,a,s,r){return s.page?((0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("h1",null,(0,o.zw)(s.page.pageTitle),1),(0,l._)("p",null,(0,o.zw)(s.page.pageContent),1)])):(0,l.kq)("",!0)}var r={props:["index"],inject:["$pages"],created(){this.index?this.page=this.$pages.getSinglePage(this.index):this.page=this.$pages.getSinglePage(0)},data(){return{page:{link:{text:"Home",url:"index.html"},pageContent:"This is the home content",pageTitle:"Home Page",published:!0}}},watch:{index(e,t){this.page=this.$pages.getSinglePage(e)}}},c=n(89);const u=(0,c.Z)(r,[["render",s],["__scopeId","data-v-67dc85b4"]]);var p=u,g=(n(560),n(4870)),d=n(9242);const f={action:"",class:"container mb-3"},h={class:"row"},m={class:"col-md-8"},v={class:"mb-3"},b=(0,l._)("label",{for:"",class:"form-label"}," Page Title ",-1),_={class:"mb-3"},w=(0,l._)("label",{for:"",class:"form-label"}," Content ",-1),k={class:"col"},y={class:"mb-3"},x=(0,l._)("label",{for:"",class:"form-label"}," Link Text ",-1),P={class:"mb-3"},$={class:"form-check"},S=(0,l._)("label",{for:"gridCheck1",class:"form-check-label"}," Published ",-1),C={class:"mb-3"},T=["disbled"];var U={__name:"CreatePage",setup(e){const t=(0,l.f3)("$bus"),n=(0,l.f3)("$pages"),o=(0,a.tv)();let i=(0,g.iH)(""),s=(0,g.iH)(""),r=(0,g.iH)(""),c=(0,g.iH)(!0);function u(){if(!i||!s||!r)return void alert("Please fill the form.");let e={pageTitle:i.value,pageContent:s.value,link:{text:r.value},published:c.value};n.addPage(e),t.$emit("page-created",e),i="",s="",r="",c=!0,o.push({path:"/pages"})}const p=(0,l.Fl)((()=>!i||!s||!r));return(0,l.YP)(i,((e,t)=>{r.value===t&&(r.value=e)})),(e,t)=>((0,l.wg)(),(0,l.iD)("form",f,[(0,l._)("div",h,[(0,l._)("div",m,[(0,l._)("div",v,[b,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>(0,g.dq)(i)?i.value=e:i=e),type:"text",class:"form-control"},null,512),[[d.nr,(0,g.SU)(i)]])]),(0,l._)("div",_,[w,(0,l.wy)((0,l._)("textarea",{type:"text",class:"form-control",rows:"5","onUpdate:modelValue":t[1]||(t[1]=e=>(0,g.dq)(s)?s.value=e:s=e)},null,512),[[d.nr,(0,g.SU)(s)]])])]),(0,l._)("div",k,[(0,l._)("div",y,[x,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>(0,g.dq)(r)?r.value=e:r=e)},null,512),[[d.nr,(0,g.SU)(r)]])]),(0,l._)("div",P,[(0,l._)("div",$,[(0,l.wy)((0,l._)("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[3]||(t[3]=e=>(0,g.dq)(c)?c.value=e:c=e)},null,512),[[d.e8,(0,g.SU)(c)]]),S])])])]),(0,l._)("div",C,[(0,l._)("button",{class:"btn btn-primary",disbled:p.value,onClick:(0,d.iM)(u,["prevent"])},"Create Page",8,T)])]))}};const H=U;var Z=H;const j={class:"container"},D=(0,l._)("h2",null,"Page Management",-1);function O(e,t,n,a,o,i){const s=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",j,[D,(0,l.Wm)(s)])}var q=[];const z=(0,c.Z)(q,[["render",O]]);var A=z;const I=e=>((0,l.dD)("data-v-78444cbf"),e=e(),(0,l.Cn)(),e),M=I((()=>(0,l._)("h4",null,"Pages",-1))),N={class:"text-end"},V={class:"table table-hover"},E=I((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Title"),(0,l._)("th",null,"Link Text"),(0,l._)("th",null,"Is Published")])],-1))),L=["onClick"];var W={__name:"PageList",setup(e){(0,g.qj)({counter:0});const t=(0,l.f3)("$pages"),n=(0,a.tv)();function i(e){n.push({path:`pages/${e}/edit`})}return(e,n)=>{const a=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[M,(0,l._)("div",N,[(0,l.Wm)(a,{to:"/pages/create",class:"btn btn-primary btn-sm"},{default:(0,l.w5)((()=>[(0,l.Uk)("New Page")])),_:1})]),(0,l._)("table",V,[E,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,g.SU)(t).getAllPages(),((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t,onClick:e=>i(t)},[(0,l._)("td",null,(0,o.zw)(e.pageTitle),1),(0,l._)("td",null,(0,o.zw)(e.pageContent),1),(0,l._)("td",null,(0,o.zw)(e.published?"yes":"no"),1)],8,L)))),128))])])],64)}}};const Y=(0,c.Z)(W,[["__scopeId","data-v-78444cbf"]]);var F=Y;const J={action:"",class:"container mb-3"},K={class:"row"},B={class:"col-mb-8"},G={class:"mb-3"},Q=(0,l._)("label",{for:"",class:"form-label"},"Page Title",-1),R={class:"mb-3"},X=(0,l._)("label",{for:"",class:"form-label"},"Page Content",-1),ee={class:"col-mb-8"},te={class:"mb-3"},ne=(0,l._)("label",{for:"",class:"form-label"},"Link Text",-1),ae={class:"mb-3"},le={class:"form-check"},oe=(0,l._)("label",{for:"gridCheck1",class:"form-check-label"},"Published",-1),ie={class:"mb-3"};var se={__name:"PageEdit",props:["index"],setup(e){const t=(0,a.tv)(),n=(0,l.f3)("$pages"),i=(0,l.f3)("$bus"),{index:s}=e;let r=n.getSinglePage(s),c=(0,g.iH)(r.pageTitle),u=(0,g.iH)(r.pageContent),p=(0,g.iH)(r.link.text),f=(0,g.iH)(r.published);function h(){let e={pageTitle:c.value,pageContent:u.value,link:{text:p.value},published:f.value};n.editPage(s,e),i.$emit("page-updated",{index:s,updatedPage:e}),v()}function m(){n.removePage(s),i.$emit("page-deleted",{index:s}),v()}function v(){t.push({path:"/pages"})}return(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("h4",null,"Edit "+(0,o.zw)((0,g.SU)(r).pageTitle),1),(0,l._)("form",J,[(0,l._)("div",K,[(0,l._)("div",B,[(0,l._)("div",G,[Q,(0,l.wy)((0,l._)("input",{id:"name",type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>(0,g.dq)(c)?c.value=e:c=e)},null,512),[[d.nr,(0,g.SU)(c)]])]),(0,l._)("div",R,[X,(0,l.wy)((0,l._)("textarea",{id:"content",type:"text",class:"form-control",rows:"5","onUpdate:modelValue":t[1]||(t[1]=e=>(0,g.dq)(u)?u.value=e:u=e)},null,512),[[d.nr,(0,g.SU)(u)]])])]),(0,l._)("div",ee,[(0,l._)("div",te,[ne,(0,l.wy)((0,l._)("input",{id:"linktext",type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>(0,g.dq)(p)?p.value=e:p=e)},null,512),[[d.nr,(0,g.SU)(p)]])]),(0,l._)("div",ae,[(0,l._)("div",le,[(0,l.wy)((0,l._)("input",{id:"checkbox",type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[3]||(t[3]=e=>(0,g.dq)(f)?f.value=e:f=e)},null,512),[[d.e8,(0,g.SU)(f)]]),oe])])])]),(0,l._)("div",ie,[(0,l._)("button",{class:"btn btn-primary me-2",onClick:(0,d.iM)(h,["prevent"])}," Edit "),(0,l._)("button",{class:"btn btn-secondary me-2",onClick:(0,d.iM)(v,["prevent"])}," Cancel "),(0,l._)("button",{class:"btn btn-danger",onClick:(0,d.iM)(m,["prevent"])}," Delete ")])])],64))}};const re=se;var ce=re;const ue=(0,a.p7)({history:(0,a.r5)(),routes:[{path:"/:index?",component:p,props:!0},{path:"/pages",component:A,children:[{path:"",component:F},{path:"create",component:Z},{path:":index/edit",component:ce,props:!0}]}]});var pe=ue},9637:function(e,t,n){n(560);const a=new Map;t.Z={$on(e,t){a.has(e)||a.set(e,[]),a.get(e).push(t)},$off(e,t){throw{message:"Not Implemented"}},$emit(e,t){a.has(e)&&a.get(e).forEach((e=>e(t)))}}},8175:function(e,t,n){n.d(t,{Z:function(){return y}});var a=n(3396);function l(e,t,n,l,o,i){const s=(0,a.up)("Nav"),r=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s),(0,a.Wm)(r)],64)}n(560);var o=n(7139),i=n(9242);const s={class:"container-fluid"},r=(0,a._)("a",{class:"navbar-brand",href:"#"},"My Vue",-1),c={class:"navbar-nav me-auto mb-2 mb-lg-0"},u={class:"d-flex"};function p(e,t,n,l,p,g){const d=(0,a.up)("NavbarLink"),f=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",{class:(0,o.C_)([`navbar-${p.theme}`,`bg-${p.theme}`,"navbar","navbar-expand-lg"])},[(0,a._)("div",s,[r,(0,a._)("ul",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.publishedPages,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(d,{class:"nav-item",key:t,page:e,index:t},null,8,["page","index"])),[[i.F8,e.published]]))),128)),(0,a._)("li",null,[(0,a.Wm)(f,{to:"/pages",class:"nav-link","aria-current":"page","active-class":"active emphasize"},{default:(0,a.w5)((()=>[(0,a.Uk)("Pages")])),_:1})])]),(0,a._)("form",u,[(0,a._)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(0,i.iM)((e=>g.changeTheme()),["prevent"]))}," Toggle Nav Bar ")])])],2)}function g(e,t,n,l,i,s){const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("li",null,[(0,a.Wm)(r,{to:`/${n.index}`,class:"nav-link","active-class":"active emphasize","aria-current":"page",title:`This link goes to the ${n.page.link.text} page.`},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(n.page.link.text),1)])),_:1},8,["to","title"])])}var d={props:["page","index"]},f=n(89);const h=(0,f.Z)(d,[["render",g]]);var m=h,v={inject:["$pages","$bus"],components:{NavbarLink:m},computed:{publishedPages(){return this.pages}},created(){this.getStoreThemeSetting(),this.pages=this.$pages.getAllPages(),this.$bus.$on("page-updated",(()=>{console.log(this.$pages.getAllPages()),this.pages=[...this.$pages.getAllPages()]})),this.$bus.$on("page-created",(()=>{console.log(this.$pages.getAllPages()),this.pages=[...this.$pages.getAllPages()]})),this.$bus.$on("page-deleted",(()=>{console.log(this.$pages.getAllPages()),this.pages=[...this.$pages.getAllPages()]}))},data(){return{theme:"light",pages:[]}},methods:{changeTheme(){let e="light";"light"==this.theme&&(e="dark"),this.theme=e,this.storeThemeSetting()},storeThemeSetting(){localStorage.setItem("theme",this.theme)},getStoreThemeSetting(){let e=localStorage.getItem("theme");e&&(this.theme=e)}}};const b=(0,f.Z)(v,[["render",p]]);var _=b,w={components:{Nav:_},methods:{pageCreated(e){this.pages.push(e)}}};const k=(0,f.Z)(w,[["render",l]]);var y=k}},t={};function n(a){var l=t[a];if(void 0!==l)return l.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",l=function(e){e&&e.d<1&&(e.d=1,e.forEach((function(e){e.r--})),e.forEach((function(e){e.r--?e.r++:e()})))},o=function(n){return n.map((function(n){if(null!==n&&"object"===typeof n){if(n[e])return n;if(n.then){var o=[];o.d=0,n.then((function(e){i[t]=e,l(o)}),(function(e){i[a]=e,l(o)}));var i={};return i[e]=function(e){e(o)},i}}var s={};return s[e]=function(){},s[t]=n,s}))};n.a=function(n,i,s){var r;s&&((r=[]).d=-1);var c,u,p,g=new Set,d=n.exports,f=new Promise((function(e,t){p=t,u=e}));f[t]=d,f[e]=function(e){r&&e(r),g.forEach(e),f["catch"]((function(){}))},n.exports=f,i((function(n){var l;c=o(n);var i=function(){return c.map((function(e){if(e[a])throw e[a];return e[t]}))},s=new Promise((function(t){l=function(){t(i)},l.r=0;var n=function(e){e!==r&&!g.has(e)&&(g.add(e),e&&!e.d&&(l.r++,e.push(l)))};c.map((function(t){t[e](n)}))}));return l.r?s:i()}),(function(e){e?p(f[a]=e):u(d),l(r)})),r&&r.d<0&&(r.d=0)}}(),function(){var e=[];n.O=function(t,a,l,o){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],l=e[u][1],o=e[u][2];for(var s=!0,r=0;r<a.length;r++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[r])}))?a.splice(r--,1):(s=!1,o<i&&(i=o));if(s){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,l,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,o,i=a[0],s=a[1],r=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(l in s)n.o(s,l)&&(n.m[l]=s[l]);if(r)var u=r(n)}for(t&&t(a);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},a=self["webpackChunkvue_cli_practice2"]=self["webpackChunkvue_cli_practice2"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(866)}));a=n.O(a)})();
//# sourceMappingURL=app.f59506ac.js.map